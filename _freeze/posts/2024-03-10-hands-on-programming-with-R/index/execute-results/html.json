{
  "hash": "d4c834d53f8c51be1581547d23e0e0cf",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"ã€ŠRè¯­è¨€å…¥é—¨ä¸å®è·µã€‹æ‘˜è¦\"\nauthor: \"metseq\"\ndate: \"2024-03-11\"\ncategories: [R]\ntoc: true\nnumber-sections: false\ndraft: true\nexecute:\n  output: true\n---\n\n\n# æ¦‚è¿°\n\nçœ‹ã€ŠR for Data Scienceã€‹çš„æ—¶å€™ï¼ŒHadley Wickhamæ¨èäº†è¿™æœ¬ä¹¦ã€ŠHands-On Programming with Rã€‹ï¼Œä¸­æ–‡è¯‘åæ˜¯ã€ŠRè¯­è¨€å…¥é—¨ä¸å®è·µã€‹ã€‚è¿™æœ¬ä¹¦å…³æ³¨çš„æ˜¯Rè¯­è¨€ä½œä¸ºè¯­è¨€çš„åŸºç¡€ï¼ŒåŸºæœ¬ä¸æ¶‰åŠç»Ÿè®¡ï¼Œæˆ‘å¯¹Rè¯­è¨€çš„äº†è§£åŸºæœ¬æ˜¯è°ƒç”¨demoä»£ç çš„æ—¶å€™ï¼Œè‡ªå·±æ„Ÿè§‰çš„ï¼Œç¼ºå°‘å¯¹Rè¯­è¨€ä½œä¸ºè¯­è¨€çš„æ•´ä½“äº†è§£ï¼Œæ‰€ä»¥è¿™æœ¬ä¹¦æ˜¯æˆ‘éœ€è¦çš„ã€‚\n\n# ç¬¬1ç«  RåŸºç¡€\n\n## 1.2 å¯¹è±¡\n\nå¯¹è±¡ï¼Œå°±æ˜¯ä¸€ä¸ªåç§°è€Œå·²ï¼Œåœ¨Rä¸­å­˜å‚¨çš„æ•°æ®å°±æ˜¯ä¸€ä¸ªRå¯¹è±¡ã€‚\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndie <- 1:6\ndie\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 1 2 3 4 5 6\n```\n\n\n:::\n:::\n\n\nå…ƒç´ æ–¹å¼æ‰§è¡Œï¼ˆelement-wise executionï¼‰\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndie - 1\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0 1 2 3 4 5\n```\n\n\n:::\n\n```{.r .cell-code}\ndie / 2\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.5 1.0 1.5 2.0 2.5 3.0\n```\n\n\n:::\n\n```{.r .cell-code}\ndie * die\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1]  1  4  9 16 25 36\n```\n\n\n:::\n:::\n\n\nçŸ©é˜µå†…ä¹˜æ³•\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndie %*% die\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n     [,1]\n[1,]   91\n```\n\n\n:::\n:::\n\n\nçŸ©é˜µå¤–ä¹˜æ³•\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndie %o% die\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n     [,1] [,2] [,3] [,4] [,5] [,6]\n[1,]    1    2    3    4    5    6\n[2,]    2    4    6    8   10   12\n[3,]    3    6    9   12   15   18\n[4,]    4    8   12   16   20   24\n[5,]    5   10   15   20   25   30\n[6,]    6   12   18   24   30   36\n```\n\n\n:::\n:::\n\n\n## 1.3 å‡½æ•°\n\nå‡½æ•°è°ƒç”¨\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsample(x = die, size = 1)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 1\n```\n\n\n:::\n:::\n\n\næŸ¥çœ‹å‡½æ•°å‚æ•°\n\n\n::: {.cell}\n\n```{.r .cell-code}\nargs(sample)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nfunction (x, size, replace = FALSE, prob = NULL) \nNULL\n```\n\n\n:::\n:::\n\n\n## 1.4 å¯æ”¾å›æŠ½æ ·\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsample(die, size = 10, replace = TRUE)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n [1] 2 3 2 3 1 5 3 6 3 5\n```\n\n\n:::\n:::\n\n\n## 1.5 ç¼–å†™è‡ªå®šä¹‰å‡½æ•°\n\n\n::: {.cell}\n\n```{.r .cell-code}\nroll <- function(){\n  die <- 1:6\n  dice <- sample(die, size = 2, replace = TRUE)\n  sum(dice)\n}\n\nroll()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 9\n```\n\n\n:::\n:::\n\n\n## 1.6 å‡½æ•°å‚æ•°\n\n\n::: {.cell}\n\n```{.r .cell-code}\nroll2 <- function(bones = 1:6){\n  dice <- sample(bones, size = 2, replace = TRUE)\n  sum(dice)\n}\n\nroll2()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 8\n```\n\n\n:::\n:::\n\n\n# ç¬¬3ç«  Rå¯¹è±¡\n\n## 3.1 åŸå­å‹å‘é‡\n\nåŸå­å‹å‘é‡å°±æ˜¯æœ€ç®€å•çš„åŒ…å«æ•°æ®çš„å‘é‡ã€‚\n\næ¯”å¦‚ä¹‹å‰çš„\\`die\\`\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndie <- 1:6\ndie\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 1 2 3 4 5 6\n```\n\n\n:::\n\n```{.r .cell-code}\nis.vector(die)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] TRUE\n```\n\n\n:::\n:::\n\n\nè‡³åŒ…å«ä¸€ä¸ªå€¼çš„åŸå­å‹å‘é‡\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfive <- 5\nfive\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 5\n```\n\n\n:::\n\n```{.r .cell-code}\nis.vector(five)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] TRUE\n```\n\n\n:::\n:::\n\n\n::: callout-tip\nğŸ¤”Rç«Ÿç„¶æŠŠä¸€ä¸ªæ•´æ•°å­˜æˆäº†é•¿åº¦ä¸º1çš„å‘é‡ï¼Œç†è§£å‘é‡æ˜¯ç†è§£Rè¯­è¨€çš„å…³é”®ã€‚\n:::\n\nRå¯ä»¥è¯†åˆ«6ç§åŸºæœ¬ç±»å‹çš„åŸå­å‹å‘é‡ï¼š\n\n-   åŒæ•´å‹ï¼ˆdoubleï¼‰\n\n-   æ•´å‹ï¼ˆintegerï¼‰\n\n-   å­—ç¬¦å‹ï¼ˆcharacterï¼‰\n\n-   é€»è¾‘å‹ï¼ˆlogicalï¼‰\n\n-   å¤æ•°ç±»å‹ï¼ˆcomplexï¼‰\n\n-   åŸå§‹ç±»å‹ï¼ˆrawï¼‰\n\n### 3.1.1 åŒæ•´å‹\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndie <- c(1, 2, 3, 4, 5, 6)\ndie\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 1 2 3 4 5 6\n```\n\n\n:::\n\n```{.r .cell-code}\ntypeof(die)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"double\"\n```\n\n\n:::\n:::\n\n\n### 3.1.2 æ•´å‹\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfoo <- c(-1L, 2L, 4L)\nfoo\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] -1  2  4\n```\n\n\n:::\n\n```{.r .cell-code}\ntypeof(foo)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"integer\"\n```\n\n\n:::\n:::\n\n\næµ®ç‚¹è¯¯å·®\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsqrt(2)^2 - 2\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 4.440892e-16\n```\n\n\n:::\n:::\n\n\n### 3.1.3 å­—ç¬¦å‹\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntext <- c(\"Hello\", \"World\")\ntext\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"Hello\" \"World\"\n```\n\n\n:::\n\n```{.r .cell-code}\ntypeof(text)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"character\"\n```\n\n\n:::\n:::\n\n\n### 3.1.4 é€»è¾‘å‹\n\n\n::: {.cell}\n\n```{.r .cell-code}\n3 > 4\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] FALSE\n```\n\n\n:::\n\n```{.r .cell-code}\nlogic <- c(TRUE, FALSE, TRUE)\nlogic\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1]  TRUE FALSE  TRUE\n```\n\n\n:::\n\n```{.r .cell-code}\ntypeof(logic)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"logical\"\n```\n\n\n:::\n:::\n\n\n### 3.1.5 é™„å±ç±»å‹å’ŒåŸå§‹ç±»å‹\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncomp <- c(1 + 1i, 1 + 2i, 1 + 3i)\ncomp\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 1+1i 1+2i 1+3i\n```\n\n\n:::\n\n```{.r .cell-code}\ntypeof(comp)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"complex\"\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nraw(3)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 00 00 00\n```\n\n\n:::\n\n```{.r .cell-code}\ntypeof(raw(3))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"raw\"\n```\n\n\n:::\n:::\n\n\n## 3.2 å±æ€§\n\nå±æ€§æ˜¯é™„åŠ ç»™åŸå§‹å‹å‘é‡çš„é¢å¤–ä¿¡æ¯ï¼Œå¯ä»¥å°†å±æ€§èµ‹äºˆä¸€ä¸ªåŸå­å‹å‘é‡ï¼ˆæˆ–è€…ä»»æ„ä¸€ä¸ªRå¯¹è±¡ï¼‰ã€‚å±æ€§å¹¶ä¸ä¼šå½±å“è¿™ä¸ªæ•°æ®çš„å–å€¼ï¼Œåœ¨æ˜¾ç¤ºè¯¥å¯¹è±¡æ—¶ä¹Ÿä¸ä¼šå‡ºç°å±æ€§ä¿¡æ¯ã€‚ä½ å¯ä»¥æŠŠå±æ€§ç†è§£ä¸ºå¯¹è±¡çš„å…ƒæ•°æ®ï¼ˆmetadataï¼‰ã€‚\n\n::: callout-important\né€šå¸¸æ¥è¯´ï¼ŒRä¼šé€‰æ‹©å¿½ç•¥è¿™äº›å…ƒæ•°æ®ä¿¡æ¯ï¼Œä½†æŸäº›Rå‡½æ•°ä¼šæ£€æŸ¥æ˜¯å¦é™„æœ‰æŸäº›ç‰¹å®šçš„å±æ€§å€¼ã€‚è¿™äº›å‡½æ•°ä¼šæ ¹æ®è¯¥æ•°æ®å¯¹è±¡çš„ç‰¹å®šå±æ€§ä¿¡æ¯å†³å®šæ˜¯å¦è¿›è¡ŒæŸäº›ç‰¹å®šçš„æ“ä½œã€‚\n:::\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndie <- 1:6\nattributes(die)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nNULL\n```\n\n\n:::\n\n```{.r .cell-code}\ndie\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 1 2 3 4 5 6\n```\n\n\n:::\n:::\n\n\n::: callout-tip\nRç”¨NULLè¡¨ç¤ºç©ºå€¼ï¼Œæ„å³æ²¡æœ‰ä»»ä½•ä¿¡æ¯ã€‚è¿™é‡Œå°±æ˜¯æ²¡æœ‰å±æ€§çš„æ„æ€ã€‚\n:::\n\nå¯ä»¥è‡ªå·±ç”Ÿæˆä¸€ä¸ª`NULL`å¯¹è±¡\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbar <- 1:4\nbar\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 1 2 3 4\n```\n\n\n:::\n\n```{.r .cell-code}\nbar <- NULL\nbar\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nNULL\n```\n\n\n:::\n:::\n\n\nåŸå­å‹å‘é‡æœ€å¸¸è§çš„ä¸‰ç§å±æ€§æ—¶ï¼šåç§°ï¼ˆnameï¼‰ï¼Œç»´åº¦ï¼ˆdimï¼‰å’Œç±»ï¼ˆclassï¼‰ã€‚\n\n### 3.2.1 åç§°å±æ€§\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndie <- 1:6\n\n# æŸ¥è¯¢åç§°å±æ€§\nnames(die)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nNULL\n```\n\n\n:::\n\n```{.r .cell-code}\n# èµ‹äºˆåç§°å±æ€§\nnames(die) <- c(\"one\", \"two\", \"three\", \"four\", \"five\", \"six\")\nnames(die)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"one\"   \"two\"   \"three\" \"four\"  \"five\"  \"six\"  \n```\n\n\n:::\n\n```{.r .cell-code}\nattributes(die)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n$names\n[1] \"one\"   \"two\"   \"three\" \"four\"  \"five\"  \"six\"  \n```\n\n\n:::\n\n```{.r .cell-code}\n# åˆ é™¤åç§°å±æ€§\nnames(die) <- NULL\nnames(die)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nNULL\n```\n\n\n:::\n:::\n\n\n### 3.2.2 ç»´åº¦å±æ€§\n\né€šè¿‡èµ‹äºˆåŸå­å‹å‘é‡ç»´åº¦å±æ€§ï¼Œå°†å…¶è½¬æˆä¸€ä¸ªnç»´æ•°ç»„\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndie\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 1 2 3 4 5 6\n```\n\n\n:::\n\n```{.r .cell-code}\ndim(die) <- c(2, 3)\ndie\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n     [,1] [,2] [,3]\n[1,]    1    3    5\n[2,]    2    4    6\n```\n\n\n:::\n:::\n\n\n## 3.3 çŸ©é˜µ\n\n\n::: {.cell}\n\n```{.r .cell-code}\nm <- matrix(die, nrow = 2)\nm\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n     [,1] [,2] [,3]\n[1,]    1    3    5\n[2,]    2    4    6\n```\n\n\n:::\n:::\n\n\n## 3.4 æ•°ç»„\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# å’Œdimæ•ˆæœå·®ä¸å¤š\nar <- array(1:6, dim = c(2, 3))\nar\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n     [,1] [,2] [,3]\n[1,]    1    3    5\n[2,]    2    4    6\n```\n\n\n:::\n:::\n\n\n## 3.5 ç±»\n\næ›´æ”¹å¯¹è±¡çš„ç»´åº¦å±æ€§ä¸ä¼šæ”¹å˜å…¶**ç±»å‹**ï¼Œä½†æ˜¯ä¼šæ”¹å˜è¿™ä¸ªå¯¹è±¡çš„**class**å±æ€§ã€‚\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndie <- 1:6\ntypeof(die)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"integer\"\n```\n\n\n:::\n\n```{.r .cell-code}\nclass(die)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"integer\"\n```\n\n\n:::\n\n```{.r .cell-code}\ndim(die) <- c(2, 3)\ntypeof(die)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"integer\"\n```\n\n\n:::\n\n```{.r .cell-code}\nclass(die)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"matrix\" \"array\" \n```\n\n\n:::\n\n```{.r .cell-code}\nattributes(die)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n$dim\n[1] 2 3\n```\n\n\n:::\n:::\n\n\n### 3.5.1 æ—¥æœŸå’Œæ—¶é—´\n\nRç”¨ä¸€ä¸ªç‰¹æ®Šçš„ç±»è¡¨ç¤ºæ—¥æœŸå’Œæ—¶é—´æ•°æ®ã€‚\n\n\n::: {.cell}\n\n```{.r .cell-code}\nnow <- Sys.time()\nnow\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"2024-03-11 22:27:05 CST\"\n```\n\n\n:::\n\n```{.r .cell-code}\ntypeof(now)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"double\"\n```\n\n\n:::\n\n```{.r .cell-code}\nclass(now)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"POSIXct\" \"POSIXt\" \n```\n\n\n:::\n\n```{.r .cell-code}\n# å€¼æ˜¯1970å¹´1æœˆ1æ—¥é›¶ç‚¹ï¼ˆUTCï¼‰å¼€å§‹æ‰€é€å»çš„ç§’æ•°\nunclass(now)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 1710167226\n```\n\n\n:::\n:::\n\n\n### 3.5.2 å› å­\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngender <- factor(c(\"male\", \"female\", \"female\", \"male\"))\n\ntypeof(gender)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"integer\"\n```\n\n\n:::\n\n```{.r .cell-code}\nattributes(gender)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n$levels\n[1] \"female\" \"male\"  \n\n$class\n[1] \"factor\"\n```\n\n\n:::\n\n```{.r .cell-code}\n# ç”¨æ•´æ•°å­˜å‚¨å› å­ï¼Œæ•´æ•°å¯¹äºç›¸åº”levelçš„æ ‡ç­¾\nunclass(gender)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 2 1 1 2\nattr(,\"levels\")\n[1] \"female\" \"male\"  \n```\n\n\n:::\n:::\n\n\n## 3.6 å¼ºåˆ¶è½¬æ¢\n\né¡ºåºæ˜¯ï¼š\n\né€»è¾‘å‹ â€”â€”\\> æ•°å€¼å‹ â€”â€”\\> å­—ç¬¦å‹\n\nä¹Ÿå°±æ˜¯å¦‚æœåŒæ—¶å­˜åœ¨é€»è¾‘å‹å’Œæ•°å€¼å‹ï¼Œä¼šè½¬æ¢æˆæ•°å€¼å‹ï¼Œä»¥æ­¤ç±»æ¨ã€‚\n\n## 3.7 åˆ—è¡¨\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlist1 <- list(100:130, \"R\", list(TRUE, FALSE))\nlist1\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[[1]]\n [1] 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118\n[20] 119 120 121 122 123 124 125 126 127 128 129 130\n\n[[2]]\n[1] \"R\"\n\n[[3]]\n[[3]][[1]]\n[1] TRUE\n\n[[3]][[2]]\n[1] FALSE\n```\n\n\n:::\n:::\n\n\n## 3.8 æ•°æ®æ¡†\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf <- data.frame(\n  face = c(\"ace\", \"two\", \"six\"),\n  suit = c(\"clubs\", \"clubs\", \"clubs\"),\n  value = c(1, 2, 3)\n)\ndf\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n  face  suit value\n1  ace clubs     1\n2  two clubs     2\n3  six clubs     3\n```\n\n\n:::\n:::\n\n\n::: callout-tip\nåˆ›å»ºåˆ—è¡¨æˆ–å‘é‡æ—¶ï¼Œä¹Ÿå¯ä»¥å‘½å\n:::\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlist(face = \"ace\", suit = \"hearts\", value = 1:6)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n$face\n[1] \"ace\"\n\n$suit\n[1] \"hearts\"\n\n$value\n[1] 1 2 3 4 5 6\n```\n\n\n:::\n\n```{.r .cell-code}\nc(face = \"ace\", suit = \"hearts\", value = \"one\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n    face     suit    value \n   \"ace\" \"hearts\"    \"one\" \n```\n\n\n:::\n:::\n\n\n# ç¬¬4ç«  Rçš„è®°å·ä½“ç³»\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}